<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mappa GTA V</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet/dist/leaflet.css"/>

  <style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  #map {
    height: 100vh;
    width: 100vw;
  }

  .popup-grande {
    width: 250px;
    text-align: center;
    font-family: sans-serif;
  }

  .popup-grande img {
    width: 90%;
    border-radius: 14px;
  }
</style>
</head>

<body>

<div id="map"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>  
// Cappa e Immagine
var map = L.map('map', {
  crs: L.CRS.Simple,
  zoomControl: true,
  minZoom: -10,
  maxZoom: 5
});

var imageHeight = 9216;
var imageWidth = 6144;

var bounds = [[0, 0], [imageHeight, imageWidth]];

L.imageOverlay('mappa2_upscayl_2x_high-fidelity-4x.webp', bounds).addTo(map);

// calcolo zoom perfetto 
var containerHeight = map.getContainer().clientHeight;
var zoom = Math.log2(containerHeight / imageHeight);

// centra e applica zoom
map.setView([imageHeight / 2, imageWidth / 2], zoom);

map.setMaxBounds(bounds);


  // Punto in console
map.fitBounds(bounds);

map.on('click', function(e) {
  console.log(e.latlng);
});




// Icone

var violetIcon = new L.Icon({
  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png',
  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',
  iconSize: [25, 41],
  iconAnchor: [12, 41],
  popupAnchor: [1, -34],
  shadowSize: [41, 41]
});



// Punti
L.marker([169.60093319001345,466.23626024689503], { icon: violetIcon }).addTo(map)
  .bindPopup(`
    <div class="popup-grande">
      <h3>Civ.123</h3>
      <p class="descrizione">
        ðŸ‘¤ Ryu Shezen
        ðŸ‘¤ Franky West
        ðŸ‘¤ Wei Shaofeng 
        ðŸ‘¤ Marcus Lee
        ðŸ‘¤ Johnny Lee
        ðŸ‘¤ Morgan Draymoor
        ðŸ‘¤ Franklin Black
        ðŸ‘¤ Mei Ling Zhou
        ðŸ‘¤ Tze Low Long
      </p>
    </div>
  `, {
    maxWidth: 250,
    minWidth: 250
  });



</script>

</body>
</html>



